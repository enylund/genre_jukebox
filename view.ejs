<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>


        <style>
            * {
            margin: 0;
            padding: 0;
            }

            body {
            width:100%;
            height:100%;
            overflow:hidden;
            }

            #title {
              position:fixed;
              font-size:200px;
            }

            #jukebox {
            position:fixed;
            right:2%;
            top:2.6%;
            font-size: 40px;
            text-transform:uppercase;
            font-weight:bold;
            font-family:arial,helvetica,sans-serif;
            }

            #songTitle {
              z-index:92;
              position:fixed;
              left:2%;
              bottom:1%;
              font-size: 20px;
              width: 100%;
              text-align:center;
              font-weight:bold;
              text-transform:uppercase;
              font-family:arial, helvetica, sans-serif;
              letter-spacing:-1px;
            }

            #next {
              z-index:1000;
            position: fixed;
            font-size:20px;
            bottom: 1%;
            right:2%;

            cursor:pointer;
            }

            #previous {
            z-index:1000;
            position: fixed;
            font-size:20px;
            bottom:1%;
            left:2%;

            cursor:pointer;
            }

            #previous:hover
            {
              z-index:1000;
              background-color:yellow;
              padding:3px;
            }

            #next:hover
            {
              z-index:1000;
              background-color:yellow;
              padding:3px;
            }


            #bottomColor {
              z-index:90;
            position:fixed;
            bottom: 0px;
            width:100%;
            height: 6%;
            background-color: white;
            border-top:solid black 1px;
            }

            input[type=text] {
            z-index:1000;
            cursor:pointer;
            border: none;
            padding: 3px;
            background: transparent;
            color:black;
            font-size: 40px;
            outline: none;
            text-align:center;
            width:200px;

            border-style: solid; 
            border-width: 0px 0px 3px 0px; 
            border-color: black;
            position: fixed;
            left: 2%;
            top:2%;
            text-transform:uppercase;
            letter-spacing:-1px;
            font-family:arial,helvetica,sans-serif;
            font-weight: bold;
            }

            ::-webkit-input-placeholder {
                 color: black;
            }

            :-moz-placeholder { /* Firefox 18- */
                 color: black;  
            }

            ::-moz-placeholder {  /* Firefox 19+ */
                 color: black;  
            }

            :-ms-input-placeholder {
                 color: black;
            }

            :focus::-webkit-input-placeholder {
                   text-indent: -999px
            }


            :focus::-moz-placeholder {
                   text-indent: -999px
            }


            img {
              -webkit-filter: grayscale(80%);
              mix-blend-mode: multiply;
            }

            #image_1 {
              position: absolute;
              left: 0px;
              top:300px;
              width: 100%;
              height: 100%;
            }
            #image_2 {
              position: absolute;
              left: 900px;
              top:-200px;
              width: 100%;
              height: 100%;
            }

            #image_3 {
              position: absolute;
              left: -400px;
              top:-400px;
              width: 100%;
              height: 100%;
            }

            #image_4 {
              position: absolute;
              left: 1000px;
              top:8000px;
              width: 100%;
              height: 100%;
            }

            #image_5 {
              position: absolute;
              left: 2000px;
              top:-300px;
              width: 100%;
              height: 100%;
            }



        </style>


    </head>
    <body>
    <% for(var svgPass=0; svgPass<1; svgPass++) { %>
        <% if (locals.data) { %>
            <% for (var i = 1; i < 5; i++) { %>
                <% if (typeof locals.data[svgPass][i] !== 'undefined' && typeof locals.data[svgPass][i].photos !== 'undefined' && locals.data[svgPass][i].photos!=null) { %>
                <img id="image_<%= i %>" src="<%= locals.data[svgPass][i].photos[0].original_size.url %>" >
                 <% } %>
            <% } %>
        <% } %>
    <% } %>



 <form name="data" action="view.ejs" method="get">
   <input type="text" placeholder="<%= queryData%>" name="data">
          <input type="submit" value="Submit">
        </form>
<!--
        <div id='songTitle'></div>
        <div id='next'>&#9654;</div>
        <div id='previous'>&#9664;</div>
        <div id='jukebox'>Jukebox</div>
        <div id='bottomColor'></div>
-->

<script src="http://connect.soundcloud.com/sdk.js"></script>
        <script>
$(":submit").hide();
            SC.initialize({
                  client_id: 'a2befdf458b195d9dc90a309e9015eb4'
            });
             var requestedTrack = '<%= queryData %>';
             console.log(requestedTrack);
             $("#jukeboxName").html(requestedTrack);


            // find all sounds of buskers licensed under 'creative commons share alike'
            SC.get('/tracks', { q: requestedTrack, license: 'cc-by-sa' }, function(tracks) {
                  var i = 0;
                  var trackTitle = tracks[i].title;
                  console.log(trackTitle);
                  var track_url = "/tracks/" + tracks[i].id;
                  console.log(track_url);
                  SC.stream(track_url, {autoPlay: true});
                  $('#songTitle').append(trackTitle);
             $("#next").click(function() {

              if( i < tracks.length) {
                  i++;
                  soundManager.stopAll();
                  trackTitle = tracks[i].title;
                  console.log(trackTitle);
                  var track_url = "/tracks/" + tracks[i].id;
                  console.log(track_url);
                  SC.stream(track_url, {autoPlay: true});
                  $('#songTitle').html(trackTitle);
                }
                });

                $("#previous").click(function() {
                    if( i > 0 ) {
                  i--;
                  soundManager.stopAll();
                  trackTitle = tracks[i].title;
                  console.log(trackTitle);
                  var track_url = "/tracks/" + tracks[i].id;
                  console.log(track_url);
                  SC.stream(track_url, {autoPlay: true});
                  $('#songTitle').html(trackTitle);
                }


                });
            });
        </script>
    </body>
</html>
